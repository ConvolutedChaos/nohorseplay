<!DOCTYPE html>
<html class="wow-animation" lang="en">

<head>
    <title>Chatbot</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport"
        content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <link rel="icon" href="../../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css"
        href="//fonts.googleapis.com/css?family=Montserrat:400,700%7COpen+Sans:300,300italic,400,600,700,900">
    <link rel="stylesheet" href="../../css/style.css">
    <style>
        .ie-panel {
            display: none;
            background: #212121;
            padding: 10px 0;
            box-shadow: 3px 3px 5px 0 rgba(0, 0, 0, .3);
            clear: both;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        html.ie-10 .ie-panel,
        html.lt-ie-10 .ie-panel {
            display: block;
        }
    </style>
</head>

<body class="novi-background"><!-- IE panel-->
    <div class="ie-panel"><a href="http://windows.microsoft.com/en-US/internet-explorer/"><img
                src="../../img/ie8-panel/warning_bar_0000_us.jpg" height="42" width="820"
                alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."></a>
    </div><!-- Page-->
    <div class="page text-center novi-background"><!-- Page Header-->
        <header class="section page-head"
            data-preset='{"title":"Header","category":"main","reload":true,"id":"header"}'><!-- RD Navbar -->
            <div class="rd-navbar-wrap">
                <nav class="rd-navbar novi-background" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed"
                    data-sm-device-layout="rd-navbar-fixed" data-md-layout="rd-navbar-fullwidth"
                    data-md-device-layout="rd-navbar-fullwidth" data-md-stick-up="true" data-md-stick-up-offset="115px"
                    data-lg-layout="rd-navbar-static" data-lg-device-layout="rd-navbar-static" data-lg-stick-up="true"
                    data-lg-stick-up-offset="71px" data-xl-layout="rd-navbar-static"
                    data-xl-device-layout="rd-navbar-static" data-xl-stick-up="true" data-xl-stick-up-offset="133px">
                    <div class="rd-navbar-inner"><!-- RD Navbar Panel-->
                        <div class="rd-navbar-panel"><!-- RD Navbar Toggle--><button class="rd-navbar-toggle"
                                data-rd-navbar-toggle=".rd-navbar-nav-wrap"><span></span></button><!-- RD Navbar Brand-->
                            <div class="rd-navbar-brand"><a class="brand-name" href="/"><img
                                        src="../../img/logo-medium.png" width="172" height="75" alt=""></a></div>
                        </div>
                        <div class="rd-navbar-nav-wrap"><!-- RD Navbar Nav-->
                            <ul class="rd-navbar-nav">
                                <li><a href="/">Home page</a></li>
                                <li><a href="../../games.html">Games</a></li>
                                <li><a href="javascript:void(0);">Gallery</a><!-- RD Navbar Dropdown-->
                                    <ul class="rd-navbar-dropdown">
                                        <li><a href="../../angry-birds-gallery.html">realistic angry birds</a></li>
                                        <li><a href="../../scary-gallery.html">scary</a></li>
                                        <!-- <ul class="rd-navbar-dropdown">
												<li><a href="#">fresh</a></li>
												<li><a href="#">archive</a></li>
												<li><a href="404.html">404</a></li>
											</ul> -->
                                </li>
                            </ul>
                            </li>
                            <li><a href="../../stuff.html">Stuff</a></li>
                            <li><a href="../../tools.html">Tools</a></li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <section class="section section-65 bg-default novi-background"
            data-preset='{"title":"About us 3","category":"about","reload":false,"id":"about-us-3"}'>
            <div class="shell shell-wide">
                <div class="page-counter page-counter-bottom-5">
                    <!-- <img class="img-responsive center-block"
                        src="images/about-01-317x344.png" alt="" width="317" height="344"> -->
                    <h1>Chatbot</h1>
                    <h5>It's not real.</h5>
                </div>

            </div>
        </section>
        <section class="section section-80 section-md-122 section-title section-title-left bg-default novi-background"
            data-preset='{"title":"About us 4","category":"about","reload":false,"id":"about-us-4"}'>
            <div class="section-title-text">Chatbot</div>

        </section>
        <section class="section section-92 section-lg-122 bg-default novi-background"
            data-preset='{"title":"Team","category":"team","reload":true,"id":"team"}'>
            <div class="shell shell-wide">
                <style>
                    #chat {
                        width: 100%;
                        max-width: 500px;
                        background: white;
                        border-radius: 12px;
                        padding: 20px;
                        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                        overflow-y: auto;
                        height: 400px;
                        margin-bottom: 15px;
                        display: flex;
                        flex-direction: column;
                    }

                    .bubble {
                        padding: 10px 15px;
                        border-radius: 20px;
                        margin: 10px 0;
                        max-width: 80%;
                        word-wrap: break-word;
                        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
                    }

                    .user {
                        background: #0078d7;
                        color: white;
                        align-self: flex-end;
                        margin-left: auto;
                        border-bottom-right-radius: 0px;
                    }

                    .bot {
                        background: #e4e6eb;
                        color: #333;
                        align-self: flex-start;
                        margin-right: auto;
                        border-bottom-left-radius: 0px;
                    }

                    #inputContainer {
                        display: flex;
                        width: 100%;
                        max-width: 500px;
                    }

                    #message {
                        flex: 1;
                        padding: 10px;
                        font-size: 16px;
                        border-radius: 20px 0 0 20px;
                        border: 1px solid #ccc;
                        outline: none;
                    }

                    #sendButton {
                        padding: 10px 20px;
                        font-size: 16px;
                        border: none;
                        background-color: #0078d7;
                        color: white;
                        border-radius: 0 20px 20px 0;
                        cursor: pointer;
                    }

                    #sendButton:hover {
                        background-color: #005fa3;
                    }
                </style>
                <div class="container">
                    <div id="chat"></div>
                    
                    <div id="inputContainer">
                        <input type="text" id="message" placeholder="Type your message..." />
                        <button id="sendButton" onclick="sendMessage()">Send</button>
                    </div>
                    
                    <script src="rivescript.min.js"></script>
                    
                    <script>
                        const bot = new RiveScript();

                        let typeSpeed = 6; // ms


                        bot.loadFile("bot.rive")
                            .then(loading_done)
                            .catch(loading_error);

                        function loading_done() {
                            console.log("Bot ready!");
                            bot.sortReplies();
                        }

                        function loading_error(error) {
                            console.error("Error loading bot: ", error);
                        }

                        function sendMessage() {
                            const input = document.getElementById("message");
                            const chat = document.getElementById("chat");
                            const msg = input.value.trim();

                            if (msg === "") return;

                            // User bubble
                            const userBubble = document.createElement("div");
                            userBubble.className = "bubble user";
                            userBubble.textContent = msg;
                            chat.appendChild(userBubble);
                            // chat.scrollTop = chat.scrollHeight;

                            // Bot thinking...
                            bot.reply("local-user", msg).then(function (reply) {
                                const botBubble = document.createElement("div");
                                botBubble.className = "bubble bot";
                                chat.appendChild(botBubble);
                                typeText(botBubble, reply.replace(/\n/g, "<br>"), typeSpeed); // ðŸ’¥ Magic here
                            });

                            input.value = "";
                            input.focus();
                        }

                        // Typewriter effect that handles <br>
                        function typeText(element, text, speed) {
                            let i = 0;
                            element.innerHTML = ""; // Start fresh

                            function type() {
                                if (i < text.length) {
                                    // If there's a <br> tag starting here, insert it all at once
                                    if (text.substr(i, 4) === "<br>") {
                                        element.innerHTML += "<br>";
                                        i += 4;
                                    } else {
                                        element.innerHTML += text.charAt(i);
                                        i++;
                                    }
                                    // element.scrollIntoView({ behavior: "smooth", block: "end" });
                                    setTimeout(type, speed);
                                }
                            }
                            type();
                        }


                        // Send on Enter
                        document.getElementById("message").addEventListener("keydown", function (e) {
                            if (e.key === "Enter") sendMessage();
                        });
                    </script>
                </div>
        </section>

        <section class="section section-divider">
            <div class="shell shell-wide inset-left-0 inset-right-0">
                <hr class="divider-full">
            </div>
        </section><!-- Page Footer-->
        <footer class="section page-footer novi-background"
            data-preset='{"title":"Footer","category":"main","reload":false,"id":"footer"}'>
            <div class="container"><span>&#169;</span> <span id="copyright-year"></span>
                <hr class="divider divider-default divider-vertical"><a href="../../privacy.html">Privacy policy</a>
            </div>
        </footer>
    </div><!-- Global Mailform Output-->
    <div class="snackbars" id="form-output-global"></div><!-- Java script-->
    <script src="../../js/core.min.js"></script>
    <script src="../../js/script.js"></script>
</body>

</html>